<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>韩语发音测验</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .quiz-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            text-align: center;
        }
        
        h1 {
            color: #333;
            margin-bottom: 30px;
            font-size: 2em;
        }
        
        .question {
            font-size: 3em;
            margin: 30px 0;
            color: #2c3e50;
            font-weight: bold;
        }
        
        .sound-type {
            font-size: 1.2em;
            color: #7f8c8d;
            margin-bottom: 10px;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 30px 0;
        }
        
        .option-btn {
            padding: 15px 20px;
            font-size: 1.2em;
            border: 2px solid #bdc3c7;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option-btn:hover {
            background: #f8f9fa;
            border-color: #3498db;
        }
        
        .option-btn.correct {
            background: #2ecc71;
            color: white;
            border-color: #27ae60;
        }
        
        .option-btn.wrong {
            background: #e74c3c;
            color: white;
            border-color: #c0392b;
        }
        
        .result {
            font-size: 1.3em;
            margin: 20px 0;
            min-height: 30px;
        }
        
        .result.correct {
            color: #2ecc71;
        }
        
        .result.wrong {
            color: #e74c3c;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.9em;
            color: #7f8c8d;
        }
        
        @media (max-width: 480px) {
            .quiz-container {
                padding: 20px;
            }
            
            .question {
                font-size: 2.5em;
            }
            
            .option-btn {
                padding: 12px 15px;
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>🇰🇷 韩语发音测验</h1>
        
        <div class="sound-type" id="soundType"></div>
        <div class="question" id="question"></div>
        
        <div class="options-container" id="optionsContainer">
            <!-- 选项将通过JavaScript动态生成 -->
        </div>
        
        <div class="result" id="result"></div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">得分</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="correctCount">0</div>
                <div class="stat-label">正确</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="wrongCount">0</div>
                <div class="stat-label">错误</div>
            </div>
        </div>
    </div>

    <script>
        // 韩语发音数据
        const koreanSounds = {
            consonants: {
                'ㄱ': { roman: 'g', name: '기역' },
                'ㄲ': { roman: 'kk', name: '쌍기역' },
                'ㄴ': { roman: 'n', name: '니은' },
                'ㄷ': { roman: 'd', name: '디귿' },
                'ㄸ': { roman: 'tt', name: '쌍디귿' },
                'ㄹ': { roman: 'r', name: '리을' },
                'ㅁ': { roman: 'm', name: '미음' },
                'ㅂ': { roman: 'b', name: '비읍' },
                'ㅃ': { roman: 'pp', name: '쌍비읍' },
                'ㅅ': { roman: 's', name: '시옷' },
                'ㅆ': { roman: 'ss', name: '쌍시옷' },
                'ㅇ': { roman: '', name: '이응' },
                'ㅈ': { roman: 'j', name: '지읒' },
                'ㅉ': { roman: 'jj', name: '쌍지읒' },
                'ㅊ': { roman: 'ch', name: '치읓' },
                'ㅋ': { roman: 'k', name: '키읔' },
                'ㅌ': { roman: 't', name: '티읕' },
                'ㅍ': { roman: 'p', name: '피읖' },
                'ㅎ': { roman: 'h', name: '히읗' }
            },
            vowels: {
                'ㅏ': { roman: 'a', name: '아' },
                'ㅐ': { roman: 'ae', name: '애' },
                'ㅑ': { roman: 'ya', name: '야' },
                'ㅒ': { roman: 'yae', name: '얘' },
                'ㅓ': { roman: 'eo', name: '어' },
                'ㅔ': { roman: 'e', name: '에' },
                'ㅕ': { roman: 'yeo', name: '여' },
                'ㅖ': { roman: 'ye', name: '예' },
                'ㅗ': { roman: 'o', name: '오' },
                'ㅘ': { roman: 'wa', name: '와' },
                'ㅙ': { roman: 'wae', name: '왜' },
                'ㅚ': { roman: 'oe', name: '외' },
                'ㅛ': { roman: 'yo', name: '요' },
                'ㅜ': { roman: 'u', name: '우' },
                'ㅝ': { roman: 'wo', name: '워' },
                'ㅞ': { roman: 'we', name: '웨' },
                'ㅟ': { roman: 'wi', name: '위' },
                'ㅠ': { roman: 'yu', name: '유' },
                'ㅡ': { roman: 'eu', name: '으' },
                'ㅢ': { roman: 'ui', name: '의' },
                'ㅣ': { roman: 'i', name: '이' }
            }
        };

        // 游戏状态
        let currentState = {
            currentSound: null,
            correctAnswer: null,
            options: [],
            score: 0,
            correctCount: 0,
            wrongCount: 0
        };

        // DOM元素
        const questionEl = document.getElementById('question');
        const soundTypeEl = document.getElementById('soundType');
        const optionsContainerEl = document.getElementById('optionsContainer');
        const resultEl = document.getElementById('result');
        const scoreEl = document.getElementById('score');
        const correctCountEl = document.getElementById('correctCount');
        const wrongCountEl = document.getElementById('wrongCount');

        // 获取随机韩语音
        function getRandomSound() {
            const soundType = Math.random() > 0.5 ? 'consonants' : 'vowels';
            const sounds = Object.keys(koreanSounds[soundType]);
            const randomSound = sounds[Math.floor(Math.random() * sounds.length)];
            return {
                character: randomSound,
                roman: koreanSounds[soundType][randomSound].roman,
                type: soundType
            };
        }

        // 生成选项
        function generateOptions(correctRoman) {
            const allRomans = new Set();
            
            // 收集所有罗马音
            for (const soundType of ['consonants', 'vowels']) {
                for (const soundData of Object.values(koreanSounds[soundType])) {
                    if (soundData.roman) {
                        allRomans.add(soundData.roman);
                    }
                }
            }
            
            const romanArray = Array.from(allRomans);
            const wrongOptions = [];
            
            // 选择两个错误选项
            while (wrongOptions.length < 2) {
                const randomRoman = romanArray[Math.floor(Math.random() * romanArray.length)];
                if (randomRoman !== correctRoman && !wrongOptions.includes(randomRoman)) {
                    wrongOptions.push(randomRoman);
                }
            }
            
            const options = [correctRoman, ...wrongOptions];
            // 随机排序选项
            for (let i = options.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [options[i], options[j]] = [options[j], options[i]];
            }
            
            return options;
        }

        // 更新问题
        function updateQuestion() {
            const sound = getRandomSound();
            currentState.currentSound = sound.character;
            currentState.correctAnswer = sound.roman;
            currentState.options = generateOptions(sound.roman);
            
            // 更新界面
            questionEl.textContent = sound.character;
            soundTypeEl.textContent = sound.type === 'consonants' ? '辅音' : '元音';
            resultEl.textContent = '';
            resultEl.className = 'result';
            
            // 生成选项按钮
            optionsContainerEl.innerHTML = '';
            currentState.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                button.onclick = () => checkAnswer(option);
                optionsContainerEl.appendChild(button);
            });
        }

        // 检查答案
        function checkAnswer(selectedAnswer) {
            const buttons = document.querySelectorAll('.option-btn');
            let isCorrect = false;
            
            buttons.forEach(button => {
                const buttonAnswer = button.textContent.split('. ')[1];
                button.disabled = true;
                
                if (buttonAnswer === currentState.correctAnswer) {
                    button.classList.add('correct');
                }
                
                if (buttonAnswer === selectedAnswer) {
                    if (selectedAnswer === currentState.correctAnswer) {
                        button.classList.add('correct');
                        isCorrect = true;
                    } else {
                        button.classList.add('wrong');
                    }
                }
            });
            
            if (isCorrect) {
                resultEl.textContent = '✓ 正确！';
                resultEl.className = 'result correct';
                currentState.score += 10;
                currentState.correctCount++;
                
                // 立即进入下一题
                setTimeout(updateQuestion, 500);
            } else {
                resultEl.textContent = '✗ 错误！';
                resultEl.className = 'result wrong';
                currentState.wrongCount++;
                
                // 2秒后允许重新选择
                setTimeout(() => {
                    buttons.forEach(button => {
                        button.disabled = false;
                        button.classList.remove('wrong');
                    });
                    resultEl.textContent = '请重新选择';
                }, 2000);
            }
            
            // 更新统计信息
            updateStats();
        }

        // 更新统计信息
        function updateStats() {
            scoreEl.textContent = currentState.score;
            correctCountEl.textContent = currentState.correctCount;
            wrongCountEl.textContent = currentState.wrongCount;
        }

        // 初始化游戏
        function initGame() {
            updateQuestion();
            updateStats();
        }

        // 页面加载时开始游戏
        window.onload = initGame;
    </script>
</body>
</html>