<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŸ©è¯­å¥å­ç¿»è¯‘ç»ƒä¹ </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: #2c3e50;
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.8;
        }
        
        .quiz-area {
            padding: 30px;
        }
        
        .question-container {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        .korean-sentence {
            font-size: 2.2rem;
            margin: 20px 0;
            color: #2c3e50;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            line-height: 1.4;
        }
        
        .speaker-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }
        
        .speaker-btn:hover {
            background: #2980b9;
            transform: scale(1.1);
        }
        
        .speaker-btn:active {
            transform: scale(0.95);
        }
        
        .speaker-btn.playing {
            background: #e74c3c;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .option {
            padding: 18px;
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 12px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .option:hover {
            background: #e9ecef;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .option.correct {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        
        .option.incorrect {
            background: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        
        .feedback {
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin: 20px 0;
            min-height: 30px;
        }
        
        .correct-feedback {
            color: #28a745;
        }
        
        .incorrect-feedback {
            color: #dc3545;
        }
        
        .next-btn {
            display: block;
            width: 200px;
            margin: 0 auto;
            padding: 14px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .next-btn:hover {
            background: #2980b9;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            background: #f8f9fa;
            padding: 15px;
            border-top: 1px solid #dee2e6;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
        }
        
        .explanation {
            background: #e9f7fe;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 1rem;
            line-height: 1.5;
        }
        
        @media (max-width: 768px) {
            .korean-sentence {
                font-size: 1.8rem;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .speaker-btn {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ‡°ğŸ‡· éŸ©è¯­å¥å­ç¿»è¯‘ç»ƒä¹ </h1>
            <div class="subtitle">æ ¹æ®éŸ©è¯­å¥å­é€‰æ‹©æ­£ç¡®çš„ä¸­æ–‡ç¿»è¯‘</div>
        </header>
        
        <div class="quiz-area">
            <div class="question-container">
                <button class="speaker-btn" id="speakerBtn">ğŸ”Š</button>
                <div class="korean-sentence" id="koreanSentence">í•œêµ­ì–´ ë¬¸ì¥</div>
            </div>
            
            <div class="options-container" id="optionsContainer">
                <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <div class="feedback" id="feedback"></div>
            
            <button class="next-btn" id="nextBtn">ä¸‹ä¸€é¢˜</button>
            
            <div class="explanation" id="explanation">
                æç¤ºï¼šè¯·æ ¹æ®éŸ©è¯­å¥å­é€‰æ‹©æ­£ç¡®çš„ä¸­æ–‡ç¿»è¯‘ï¼Œæ³¨æ„éŸ©è¯­è¯­æ³•ç»“æ„
            </div>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">å¾—åˆ†</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="correctCount">0</div>
                <div class="stat-label">æ­£ç¡®</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="wrongCount">0</div>
                <div class="stat-label">é”™è¯¯</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="questionCount">0</div>
                <div class="stat-label">é¢˜ç›®</div>
            </div>
        </div>
    </div>

    <script>
        // éŸ©è¯­å¥å­æ•°æ® - æ¯ç§è¯­æ³•ç»“æ„å¢åŠ æ›´å¤šä¾‹å¥
        const koreanSentences = [
            // æœ€é«˜é˜¶é™ˆè¿°å¥ç»ˆç»“è¯å°¾ï¼šæœ‰æ”¶éŸ³ + ìŠµë‹ˆë‹¤
            {
                korean: "ì €ëŠ” í•™ìƒì…ë‹ˆë‹¤.",
                meaning: "æˆ‘æ˜¯å­¦ç”Ÿã€‚",
                explanation: "æœ€é«˜é˜¶é™ˆè¿°å¥ç»ˆç»“è¯å°¾ï¼šæœ‰æ”¶éŸ³ + ìŠµë‹ˆë‹¤"
            },
            {
                korean: "í•œêµ­ì–´ë¥¼ ê³µë¶€í•©ë‹ˆë‹¤.",
                meaning: "å­¦ä¹ éŸ©è¯­ã€‚",
                explanation: "æœ€é«˜é˜¶é™ˆè¿°å¥ç»ˆç»“è¯å°¾ï¼šæœ‰æ”¶éŸ³ + ìŠµë‹ˆë‹¤"
            },
            {
                korean: "ì»¤í”¼ë¥¼ ë§ˆì‹­ë‹ˆë‹¤.",
                meaning: "å–å’–å•¡ã€‚",
                explanation: "æœ€é«˜é˜¶é™ˆè¿°å¥ç»ˆç»“è¯å°¾ï¼šæœ‰æ”¶éŸ³ + ìŠµë‹ˆë‹¤"
            },
            
            // æœ€é«˜é˜¶ç–‘é—®å¥ç»ˆç»“è¯å°¾ï¼šæ²¡æœ‰æ”¶éŸ³ + ã…‚ë‹ˆê¹Œ
            {
                korean: "í•™êµì— ê°‘ë‹ˆê¹Œ?",
                meaning: "å»å­¦æ ¡å—ï¼Ÿ",
                explanation: "æœ€é«˜é˜¶ç–‘é—®å¥ç»ˆç»“è¯å°¾ï¼šæ²¡æœ‰æ”¶éŸ³ + ã…‚ë‹ˆê¹Œ"
            },
            {
                korean: "í•œêµ­ì–´ë¥¼ ê³µë¶€í•©ë‹ˆê¹Œ?",
                meaning: "å­¦ä¹ éŸ©è¯­å—ï¼Ÿ",
                explanation: "æœ€é«˜é˜¶ç–‘é—®å¥ç»ˆç»“è¯å°¾ï¼šæ²¡æœ‰æ”¶éŸ³ + ã…‚ë‹ˆê¹Œ"
            },
            {
                korean: "ì´ ì±…ì„ ì½ìŠµë‹ˆê¹Œ?",
                meaning: "è¯»è¿™æœ¬ä¹¦å—ï¼Ÿ",
                explanation: "æœ€é«˜é˜¶ç–‘é—®å¥ç»ˆç»“è¯å°¾ï¼šæœ‰æ”¶éŸ³ + ìŠµë‹ˆê¹Œ"
            },
            
            // è¯·VVVï¼šæœ‰æ”¶éŸ³ + ìœ¼ì„¸ìš” / æ²¡æœ‰æ”¶éŸ³ + ì„¸ìš”
            {
                korean: "ì±…ì„ ì½ìœ¼ì„¸ìš”.",
                meaning: "è¯·è¯»ä¹¦ã€‚",
                explanation: "è¯·VVVï¼šæœ‰æ”¶éŸ³ + ìœ¼ì„¸ìš”"
            },
            {
                korean: "ì¡°ìš©íˆ í•˜ì„¸ìš”.",
                meaning: "è¯·å®‰é™ã€‚",
                explanation: "è¯·VVVï¼šæ²¡æœ‰æ”¶éŸ³ + ì„¸ìš”"
            },
            {
                korean: "ì•‰ìœ¼ì„¸ìš”.",
                meaning: "è¯·åã€‚",
                explanation: "è¯·VVVï¼šæœ‰æ”¶éŸ³ + ìœ¼ì„¸ìš”"
            },
            
            // è¯·VVVï¼ˆæœ€é«˜é˜¶æ ¼å¼ä½“ï¼‰ï¼šæœ‰æ”¶éŸ³ + ìœ¼ì‹­ì‹œì˜¤ / æ²¡æœ‰æ”¶éŸ³ + ì‹­ì‹œì˜¤
            {
                korean: "ì—¬ê¸° ì•‰ìœ¼ì‹­ì‹œì˜¤.",
                meaning: "è¯·åè¿™é‡Œã€‚",
                explanation: "è¯·VVVï¼ˆæœ€é«˜é˜¶æ ¼å¼ä½“ï¼‰ï¼šæœ‰æ”¶éŸ³ + ìœ¼ì‹­ì‹œì˜¤"
            },
            {
                korean: "ë“¤ì–´ì˜¤ì‹­ì‹œì˜¤.",
                meaning: "è¯·è¿›æ¥ã€‚",
                explanation: "è¯·VVVï¼ˆæœ€é«˜é˜¶æ ¼å¼ä½“ï¼‰ï¼šæ²¡æœ‰æ”¶éŸ³ + ì‹­ì‹œì˜¤"
            },
            
            // è¯·ç»™æˆ‘NNNï¼šåè¯ + ì£¼ì„¸ìš”
            {
                korean: "ë¬¼ ì£¼ì„¸ìš”.",
                meaning: "è¯·ç»™æˆ‘æ°´ã€‚",
                explanation: "è¯·ç»™æˆ‘NNNï¼šåè¯ + ì£¼ì„¸ìš”"
            },
            {
                korean: "ë©”ë‰´íŒ ì£¼ì„¸ìš”.",
                meaning: "è¯·ç»™æˆ‘èœå•ã€‚",
                explanation: "è¯·ç»™æˆ‘NNNï¼šåè¯ + ì£¼ì„¸ìš”"
            },
            
            // æœ‰NNNï¼šæœ‰æ”¶éŸ³ + ì´ ìˆì–´ìš” / æ²¡æœ‰æ”¶éŸ³ + ê°€ ìˆì–´ìš”
            {
                korean: "ì‹œê°„ì´ ìˆì–´ìš”.",
                meaning: "æœ‰æ—¶é—´ã€‚",
                explanation: "æœ‰NNNï¼šæœ‰æ”¶éŸ³ + ì´ ìˆì–´ìš”"
            },
            {
                korean: "ì¹œêµ¬ê°€ ìˆì–´ìš”?",
                meaning: "æœ‰æœ‹å‹å—ï¼Ÿ",
                explanation: "æœ‰NNNï¼šæ²¡æœ‰æ”¶éŸ³ + ê°€ ìˆì–´ìš”ï¼ˆç–‘é—®å¥ï¼‰"
            },
            {
                korean: "ëˆì´ ìˆì–´ìš”.",
                meaning: "æœ‰é’±ã€‚",
                explanation: "æœ‰NNNï¼šæœ‰æ”¶éŸ³ + ì´ ìˆì–´ìš”"
            },
            
            // æ²¡æœ‰NNNï¼šæœ‰æ”¶éŸ³ + ì´ ì—†ì–´ìš” / æ²¡æœ‰æ”¶éŸ³ + ê°€ ì—†ì–´ìš”
            {
                korean: "ëˆì´ ì—†ì–´ìš”.",
                meaning: "æ²¡æœ‰é’±ã€‚",
                explanation: "æ²¡æœ‰NNNï¼šæœ‰æ”¶éŸ³ + ì´ ì—†ì–´ìš”"
            },
            {
                korean: "ìŒì‹ì´ ì—†ì–´ìš”?",
                meaning: "æ²¡æœ‰é£Ÿç‰©å—ï¼Ÿ",
                explanation: "æ²¡æœ‰NNNï¼šæœ‰æ”¶éŸ³ + ì´ ì—†ì–´ìš”ï¼ˆç–‘é—®å¥ï¼‰"
            },
            {
                korean: "ì‹œê°„ì´ ì—†ì–´ìš”.",
                meaning: "æ²¡æœ‰æ—¶é—´ã€‚",
                explanation: "æ²¡æœ‰NNNï¼šæœ‰æ”¶éŸ³ + ì´ ì—†ì–´ìš”"
            },
            
            // æˆ‘æ˜¯NNNï¼šæœ‰æ”¶éŸ³ + ì´ì—ìš” / æ²¡æœ‰æ”¶éŸ³ + ì˜ˆìš”
            {
                korean: "ì €ëŠ” ì„ ìƒë‹˜ì´ì—ìš”.",
                meaning: "æˆ‘æ˜¯è€å¸ˆã€‚",
                explanation: "æˆ‘æ˜¯NNNï¼šæœ‰æ”¶éŸ³ + ì´ì—ìš”"
            },
            {
                korean: "ì €ëŠ” í•œêµ­ ì‚¬ëŒì´ì—ìš”.",
                meaning: "æˆ‘æ˜¯éŸ©å›½äººã€‚",
                explanation: "æˆ‘æ˜¯NNNï¼šæœ‰æ”¶éŸ³ + ì´ì—ìš”"
            },
            
            // ä¸è¦VVVï¼šåŠ¨è¯è¯å¹² + ì§€ë§ˆ
            {
                korean: "ê±±ì •í•˜ì§€ ë§ˆ.",
                meaning: "ä¸è¦æ‹…å¿ƒã€‚",
                explanation: "ä¸è¦VVVï¼šåŠ¨è¯è¯å¹² + ì§€ë§ˆ"
            },
            {
                korean: "ìš¸ì§€ ë§ˆ.",
                meaning: "ä¸è¦å“­ã€‚",
                explanation: "ä¸è¦VVVï¼šåŠ¨è¯è¯å¹² + ì§€ë§ˆ"
            },
            
            // å»NNNï¼šåœ°ç‚¹ + ì— ê°€ìš”
            {
                korean: "ë„ì„œê´€ì— ê°€ìš”.",
                meaning: "å»å›¾ä¹¦é¦†ã€‚",
                explanation: "å»NNNï¼šåœ°ç‚¹ + ì— ê°€ìš”"
            },
            {
                korean: "í•™êµì— ê°€ìš”.",
                meaning: "å»å­¦æ ¡ã€‚",
                explanation: "å»NNNï¼šåœ°ç‚¹ + ì— ê°€ìš”"
            },
            
            // åœ¨VVVï¼šåŠ¨è¯è¯å¹² + ê³  ìˆì–´ìš”
            {
                korean: "ì§€ê¸ˆ ê³µë¶€í•˜ê³  ìˆì–´ìš”.",
                meaning: "æ­£åœ¨å­¦ä¹ ã€‚",
                explanation: "åœ¨VVVï¼šåŠ¨è¯è¯å¹² + ê³  ìˆì–´ìš”"
            },
            {
                korean: "í…”ë ˆë¹„ì „ì„ ë³´ê³  ìˆì–´ìš”.",
                meaning: "æ­£åœ¨çœ‹ç”µè§†ã€‚",
                explanation: "åœ¨VVVï¼šåŠ¨è¯è¯å¹² + ê³  ìˆì–´ìš”"
            }
        ];

        // æ¸¸æˆçŠ¶æ€
        let gameState = {
            currentSentence: {},
            correctMeaning: '',
            meaningOptions: [],
            score: 0,
            correctCount: 0,
            wrongCount: 0,
            questionCount: 0,
            answered: false,
            recentSentences: [] // é¿å…é‡å¤å‡ºç°ç›¸åŒçš„å¥å­
        };

        // DOMå…ƒç´ 
        const koreanSentenceEl = document.getElementById('koreanSentence');
        const optionsContainerEl = document.getElementById('optionsContainer');
        const feedbackEl = document.getElementById('feedback');
        const nextBtn = document.getElementById('nextBtn');
        const explanationEl = document.getElementById('explanation');
        const scoreEl = document.getElementById('score');
        const correctCountEl = document.getElementById('correctCount');
        const wrongCountEl = document.getElementById('wrongCount');
        const questionCountEl = document.getElementById('questionCount');
        const speakerBtn = document.getElementById('speakerBtn');

        // è¯­éŸ³åˆæˆå‡½æ•°
        function speakKorean(text) {
            if (!('speechSynthesis' in window)) {
                alert('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆåŠŸèƒ½ï¼Œè¯·ä½¿ç”¨ç°ä»£æµè§ˆå™¨å¦‚Chromeã€Edgeæˆ–Firefox');
                return;
            }

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ko-KR';
            utterance.rate = 0.9;
            utterance.pitch = 1.0;
            
            speakerBtn.classList.add('playing');
            
            utterance.onend = function() {
                speakerBtn.classList.remove('playing');
            };
            
            utterance.onerror = function(event) {
                console.error('è¯­éŸ³åˆæˆé”™è¯¯:', event);
                speakerBtn.classList.remove('playing');
            };
            
            speechSynthesis.speak(utterance);
        }

        // è·å–éšæœºéŸ©è¯­å¥å­ï¼ˆé¿å…é‡å¤ï¼‰
        function getRandomKoreanSentence() {
            // è¿‡æ»¤æ‰æœ€è¿‘3é¢˜ä¸­ä½¿ç”¨è¿‡çš„å¥å­
            const availableSentences = koreanSentences.filter(sentence => 
                !gameState.recentSentences.includes(sentence.korean)
            );
            
            // å¦‚æœæ²¡æœ‰å¯ç”¨å¥å­ï¼Œä½¿ç”¨å®Œæ•´å¥å­åº“
            const finalSentencePool = availableSentences.length > 0 ? availableSentences : koreanSentences;
            
            return finalSentencePool[Math.floor(Math.random() * finalSentencePool.length)];
        }

        // ç”Ÿæˆè¯ä¹‰å¹²æ‰°é¡¹
        function generateMeaningDistractors(correctMeaning) {
            const distractors = [];
            const allMeanings = koreanSentences.map(sentence => sentence.meaning);
            const uniqueMeanings = [...new Set(allMeanings)];
            
            while (distractors.length < 2) {
                const randomIndex = Math.floor(Math.random() * uniqueMeanings.length);
                const randomMeaning = uniqueMeanings[randomIndex];
                
                if (randomMeaning !== correctMeaning && 
                    !distractors.includes(randomMeaning)) {
                    distractors.push(randomMeaning);
                }
            }
            
            return distractors;
        }

        // ç”Ÿæˆæ–°é¢˜ç›®
        function generateQuestion() {
            gameState.answered = false;
            gameState.questionCount++;
            
            // è·å–éšæœºéŸ©è¯­å¥å­ï¼ˆé¿å…é‡å¤ï¼‰
            gameState.currentSentence = getRandomKoreanSentence();
            
            // å°†å½“å‰å¥å­æ·»åŠ åˆ°æœ€è¿‘ä½¿ç”¨åˆ—è¡¨
            gameState.recentSentences.push(gameState.currentSentence.korean);
            
            // ä¿æŒæœ€è¿‘ä½¿ç”¨åˆ—è¡¨æœ€å¤šåŒ…å«3ä¸ªå¥å­
            if (gameState.recentSentences.length > 3) {
                gameState.recentSentences.shift(); // ç§»é™¤æœ€æ—§çš„å¥å­
            }
            
            koreanSentenceEl.textContent = gameState.currentSentence.korean;
            gameState.correctMeaning = gameState.currentSentence.meaning;
            
            // ç”Ÿæˆè¯ä¹‰å¹²æ‰°é¡¹
            const meaningDistractors = generateMeaningDistractors(gameState.correctMeaning);
            
            // ç»„åˆè¯ä¹‰é€‰é¡¹
            gameState.meaningOptions = [
                gameState.correctMeaning, 
                ...meaningDistractors
            ];
            
            // éšæœºæ’åºé€‰é¡¹
            shuffleArray(gameState.meaningOptions);
            
            // æ›´æ–°é€‰é¡¹æ˜¾ç¤º
            updateOptions();
            
            // é‡ç½®åé¦ˆ
            feedbackEl.textContent = '';
            feedbackEl.className = 'feedback';
            explanationEl.textContent = 'æç¤ºï¼šè¯·æ ¹æ®éŸ©è¯­å¥å­é€‰æ‹©æ­£ç¡®çš„ä¸­æ–‡ç¿»è¯‘';
            
            // éšè—ä¸‹ä¸€é¢˜æŒ‰é’®
            nextBtn.style.display = 'none';
            
            // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
            updateStats();
        }

        // æ•°ç»„éšæœºæ’åº
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // æ›´æ–°é€‰é¡¹æ˜¾ç¤º
        function updateOptions() {
            optionsContainerEl.innerHTML = '';
            
            gameState.meaningOptions.forEach((option, index) => {
                const button = document.createElement('div');
                button.className = 'option';
                button.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                button.onclick = () => checkAnswer(option);
                optionsContainerEl.appendChild(button);
            });
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(selectedAnswer) {
            if (gameState.answered) return;
            
            gameState.answered = true;
            const buttons = document.querySelectorAll('.option');
            let isCorrect = false;
            
            buttons.forEach(button => {
                const buttonAnswer = button.textContent.split('. ')[1];
                
                if (buttonAnswer === gameState.correctMeaning) {
                    button.classList.add('correct');
                }
                
                if (buttonAnswer === selectedAnswer) {
                    if (selectedAnswer === gameState.correctMeaning) {
                        button.classList.add('correct');
                        isCorrect = true;
                    } else {
                        button.classList.add('incorrect');
                    }
                }
            });
            
            if (isCorrect) {
                feedbackEl.textContent = 'âœ“ æ­£ç¡®ï¼';
                feedbackEl.className = 'feedback correct-feedback';
                gameState.score += 10;
                gameState.correctCount++;
                nextBtn.style.display = 'block';
                
                explanationEl.innerHTML = `
                    <strong>å¥å­è§£æï¼š</strong><br>
                    éŸ©è¯­å¥å­: ${gameState.currentSentence.korean}<br>
                    ä¸­æ–‡ç¿»è¯‘: ${gameState.currentSentence.meaning}<br>
                    è¯­æ³•ç‚¹: ${gameState.currentSentence.explanation}
                `;
            } else {
                feedbackEl.textContent = 'âœ— é”™è¯¯ï¼';
                feedbackEl.className = 'feedback incorrect-feedback';
                gameState.wrongCount++;
                nextBtn.style.display = 'block';
                
                explanationEl.innerHTML = `
                    <strong>æ­£ç¡®ç­”æ¡ˆï¼š${gameState.correctMeaning}</strong><br>
                    è¯­æ³•ç‚¹: ${gameState.currentSentence.explanation}<br>
                    è¯·è®°ä½è¿™ä¸ªç¿»è¯‘ï¼Œç»§ç»­åŠªåŠ›ï¼
                `;
            }
            
            updateStats();
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            scoreEl.textContent = gameState.score;
            correctCountEl.textContent = gameState.correctCount;
            wrongCountEl.textContent = gameState.wrongCount;
            questionCountEl.textContent = gameState.questionCount;
        }

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            generateQuestion();
            
            nextBtn.onclick = generateQuestion;
            
            // æ·»åŠ å–‡å­æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            speakerBtn.onclick = function() {
                speechSynthesis.cancel();
                
                // æ’­æ”¾å½“å‰å¥å­çš„å‘éŸ³
                speakKorean(gameState.currentSentence.korean);
            };
        }

        // é¡µé¢åŠ è½½æ—¶å¼€å§‹æ¸¸æˆ
        window.onload = initGame;
    </script>
</body>
</html>