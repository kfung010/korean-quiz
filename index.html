<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŸ©è¯­å‘éŸ³æµ‹éªŒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .quiz-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            text-align: center;
        }
        
        h1 {
            color: #333;
            margin-bottom: 30px;
            font-size: 2em;
        }
        
        .question {
            font-size: 3em;
            margin: 30px 0;
            color: #2c3e50;
            font-weight: bold;
        }
        
        .sound-type {
            font-size: 1.2em;
            color: #7f8c8d;
            margin-bottom: 10px;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 30px 0;
        }
        
        .option-btn {
            padding: 15px 20px;
            font-size: 1.2em;
            border: 2px solid #bdc3c7;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option-btn:hover {
            background: #f8f9fa;
            border-color: #3498db;
        }
        
        .option-btn.correct {
            background: #2ecc71;
            color: white;
            border-color: #27ae60;
        }
        
        .option-btn.wrong {
            background: #e74c3c;
            color: white;
            border-color: #c0392b;
        }
        
        .result {
            font-size: 1.3em;
            margin: 20px 0;
            min-height: 30px;
        }
        
        .result.correct {
            color: #2ecc71;
        }
        
        .result.wrong {
            color: #e74c3c;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.9em;
            color: #7f8c8d;
        }
        
        @media (max-width: 480px) {
            .quiz-container {
                padding: 20px;
            }
            
            .question {
                font-size: 2.5em;
            }
            
            .option-btn {
                padding: 12px 15px;
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>ğŸ‡°ğŸ‡· éŸ©è¯­å‘éŸ³æµ‹éªŒ</h1>
        
        <div class="sound-type" id="soundType"></div>
        <div class="question" id="question"></div>
        
        <div class="options-container" id="optionsContainer">
            <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <div class="result" id="result"></div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">å¾—åˆ†</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="correctCount">0</div>
                <div class="stat-label">æ­£ç¡®</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="wrongCount">0</div>
                <div class="stat-label">é”™è¯¯</div>
            </div>
        </div>
    </div>

    <script>
        // éŸ©è¯­å‘éŸ³æ•°æ®
        const koreanSounds = {
            consonants: {
                'ã„±': { roman: 'g', name: 'ê¸°ì—­' },
                'ã„²': { roman: 'kk', name: 'ìŒê¸°ì—­' },
                'ã„´': { roman: 'n', name: 'ë‹ˆì€' },
                'ã„·': { roman: 'd', name: 'ë””ê·¿' },
                'ã„¸': { roman: 'tt', name: 'ìŒë””ê·¿' },
                'ã„¹': { roman: 'r', name: 'ë¦¬ì„' },
                'ã…': { roman: 'm', name: 'ë¯¸ìŒ' },
                'ã…‚': { roman: 'b', name: 'ë¹„ì' },
                'ã…ƒ': { roman: 'pp', name: 'ìŒë¹„ì' },
                'ã……': { roman: 's', name: 'ì‹œì˜·' },
                'ã…†': { roman: 'ss', name: 'ìŒì‹œì˜·' },
                'ã…‡': { roman: '', name: 'ì´ì‘' },
                'ã…ˆ': { roman: 'j', name: 'ì§€ì’' },
                'ã…‰': { roman: 'jj', name: 'ìŒì§€ì’' },
                'ã…Š': { roman: 'ch', name: 'ì¹˜ì“' },
                'ã…‹': { roman: 'k', name: 'í‚¤ì”' },
                'ã…Œ': { roman: 't', name: 'í‹°ì•' },
                'ã…': { roman: 'p', name: 'í”¼ì–' },
                'ã…': { roman: 'h', name: 'íˆì—' }
            },
            vowels: {
                'ã…': { roman: 'a', name: 'ì•„' },
                'ã…': { roman: 'ae', name: 'ì• ' },
                'ã…‘': { roman: 'ya', name: 'ì•¼' },
                'ã…’': { roman: 'yae', name: 'ì–˜' },
                'ã…“': { roman: 'eo', name: 'ì–´' },
                'ã…”': { roman: 'e', name: 'ì—' },
                'ã…•': { roman: 'yeo', name: 'ì—¬' },
                'ã…–': { roman: 'ye', name: 'ì˜ˆ' },
                'ã…—': { roman: 'o', name: 'ì˜¤' },
                'ã…˜': { roman: 'wa', name: 'ì™€' },
                'ã…™': { roman: 'wae', name: 'ì™œ' },
                'ã…š': { roman: 'oe', name: 'ì™¸' },
                'ã…›': { roman: 'yo', name: 'ìš”' },
                'ã…œ': { roman: 'u', name: 'ìš°' },
                'ã…': { roman: 'wo', name: 'ì›Œ' },
                'ã…': { roman: 'we', name: 'ì›¨' },
                'ã…Ÿ': { roman: 'wi', name: 'ìœ„' },
                'ã… ': { roman: 'yu', name: 'ìœ ' },
                'ã…¡': { roman: 'eu', name: 'ìœ¼' },
                'ã…¢': { roman: 'ui', name: 'ì˜' },
                'ã…£': { roman: 'i', name: 'ì´' }
            }
        };

        // æ¸¸æˆçŠ¶æ€
        let currentState = {
            currentSound: null,
            correctAnswer: null,
            options: [],
            score: 0,
            correctCount: 0,
            wrongCount: 0
        };

        // DOMå…ƒç´ 
        const questionEl = document.getElementById('question');
        const soundTypeEl = document.getElementById('soundType');
        const optionsContainerEl = document.getElementById('optionsContainer');
        const resultEl = document.getElementById('result');
        const scoreEl = document.getElementById('score');
        const correctCountEl = document.getElementById('correctCount');
        const wrongCountEl = document.getElementById('wrongCount');

        // è·å–éšæœºéŸ©è¯­éŸ³
        function getRandomSound() {
            const soundType = Math.random() > 0.5 ? 'consonants' : 'vowels';
            const sounds = Object.keys(koreanSounds[soundType]);
            const randomSound = sounds[Math.floor(Math.random() * sounds.length)];
            return {
                character: randomSound,
                roman: koreanSounds[soundType][randomSound].roman,
                type: soundType
            };
        }

        // ç”Ÿæˆé€‰é¡¹
        function generateOptions(correctRoman) {
            const allRomans = new Set();
            
            // æ”¶é›†æ‰€æœ‰ç½—é©¬éŸ³
            for (const soundType of ['consonants', 'vowels']) {
                for (const soundData of Object.values(koreanSounds[soundType])) {
                    if (soundData.roman) {
                        allRomans.add(soundData.roman);
                    }
                }
            }
            
            const romanArray = Array.from(allRomans);
            const wrongOptions = [];
            
            // é€‰æ‹©ä¸¤ä¸ªé”™è¯¯é€‰é¡¹
            while (wrongOptions.length < 2) {
                const randomRoman = romanArray[Math.floor(Math.random() * romanArray.length)];
                if (randomRoman !== correctRoman && !wrongOptions.includes(randomRoman)) {
                    wrongOptions.push(randomRoman);
                }
            }
            
            const options = [correctRoman, ...wrongOptions];
            // éšæœºæ’åºé€‰é¡¹
            for (let i = options.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [options[i], options[j]] = [options[j], options[i]];
            }
            
            return options;
        }

        // æ›´æ–°é—®é¢˜
        function updateQuestion() {
            const sound = getRandomSound();
            currentState.currentSound = sound.character;
            currentState.correctAnswer = sound.roman;
            currentState.options = generateOptions(sound.roman);
            
            // æ›´æ–°ç•Œé¢
            questionEl.textContent = sound.character;
            soundTypeEl.textContent = sound.type === 'consonants' ? 'è¾…éŸ³' : 'å…ƒéŸ³';
            resultEl.textContent = '';
            resultEl.className = 'result';
            
            // ç”Ÿæˆé€‰é¡¹æŒ‰é’®
            optionsContainerEl.innerHTML = '';
            currentState.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                button.onclick = () => checkAnswer(option);
                optionsContainerEl.appendChild(button);
            });
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(selectedAnswer) {
            const buttons = document.querySelectorAll('.option-btn');
            let isCorrect = false;
            
            buttons.forEach(button => {
                const buttonAnswer = button.textContent.split('. ')[1];
                button.disabled = true;
                
                if (buttonAnswer === currentState.correctAnswer) {
                    button.classList.add('correct');
                }
                
                if (buttonAnswer === selectedAnswer) {
                    if (selectedAnswer === currentState.correctAnswer) {
                        button.classList.add('correct');
                        isCorrect = true;
                    } else {
                        button.classList.add('wrong');
                    }
                }
            });
            
            if (isCorrect) {
                resultEl.textContent = 'âœ“ æ­£ç¡®ï¼';
                resultEl.className = 'result correct';
                currentState.score += 10;
                currentState.correctCount++;
                
                // ç«‹å³è¿›å…¥ä¸‹ä¸€é¢˜
                setTimeout(updateQuestion, 500);
            } else {
                resultEl.textContent = 'âœ— é”™è¯¯ï¼';
                resultEl.className = 'result wrong';
                currentState.wrongCount++;
                
                // 2ç§’åå…è®¸é‡æ–°é€‰æ‹©
                setTimeout(() => {
                    buttons.forEach(button => {
                        button.disabled = false;
                        button.classList.remove('wrong');
                    });
                    resultEl.textContent = 'è¯·é‡æ–°é€‰æ‹©';
                }, 2000);
            }
            
            // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
            updateStats();
        }

        // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
        function updateStats() {
            scoreEl.textContent = currentState.score;
            correctCountEl.textContent = currentState.correctCount;
            wrongCountEl.textContent = currentState.wrongCount;
        }

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            updateQuestion();
            updateStats();
        }

        // é¡µé¢åŠ è½½æ—¶å¼€å§‹æ¸¸æˆ
        window.onload = initGame;
    </script>
</body>
</html>